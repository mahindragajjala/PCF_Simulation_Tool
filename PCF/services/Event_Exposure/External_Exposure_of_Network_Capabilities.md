				External Exposure of Network Capabilities

The Network Exposure Function (NEF) supports external exposure of capabilities of network functions. External exposure can be categorized as 
Monitoring capability, 
Provisioning capability, 
Policy/Charging capability, 
network status reporting capability and 
Analytics reporting capability. 

The Monitoring capability is for monitoring of specific event for UE in 5GS and making such monitoring events information available for external exposure via the NEF. 

The Provisioning capability is for allowing external party to provision of information which can be used for the UE in 5GS.

The Policy/Charging capability is for handling QoS and charging policy for the UE based on the request from external party. 

The Analytics capability is for allowing external party to acquire analytics information generated by 5G System.

The details for the External Exposure of Analytics capabilities as well as interactions between NEF, external party and NWDAF are described in TS 23.288 [50].


Event Exposure using NEF

Monitoring Events

The Monitoring Events feature is intended for monitoring of specific events in 3GPP system and making such monitoring events information reported via the NEF. 
It is comprised of means that allow NFs in 5GS for configuring the specific events, the event detection, and the event reporting to the requested party.
To support monitoring features in roaming scenarios, a roaming agreement needs to be made between the HPLMN and the VPLMN. 
The set of capabilities required for monitoring shall be accessible via NEF to NFs in 5GS. 
Monitoring Events via the UDM and the AMF enables NEF to configure a given Monitor Event at UDM or AMF, and reporting of the event via UDM and/or AMF.
Depending on the specific monitoring event or information, it is either the AMF or the UDM that is aware of the monitoring event or information and makes it reported via the NEF.



AMF service operations information flow 


1. A NEF sends a request to subscribe to a (set of) Event ID(s) in AMF in Namf_EventExposure_Subscribe request. 

The NEF could be the same NF subscribing to receive the event notification reports (i.e. Event Receiving NF) or it could be a different NF. The NEF subscribes to one or several Event(s) (identified by Event ID) and provides the associated notification endpoint of the Event Receiving NF. As the NEF itself is not the Event Receiving NF, the NEF shall additionally provide the notification endpoint of itself besides the notification endpoint of Event Receiving NF. 
Each notification endpoint is associated with the related (set of) Event ID(s).
This is to assure the NEF can receive the notification of subscription change related event (e.g. Subscripion Correlation ID Change).
 Event Reporting information defines the type of reporting requested. If the reporting event subscription is authorized by the AMF, the AMF records the association of the event trigger and the requester identity.
2. AMF acknowledges the execution of Namf_EventExposure_Subscribe.

3. The AMF detects the monitored event occurs and sends the event report by means of
Namf_EventExposure_Notify message, to the notification endpoint of the Event Receiving NF.

4. [Conditional- depending on the Event] The AMF detects the subscription change related event occurs, e.g. Subscription Correlation ID change due to AMF reallocation, it sends the event report by means of Namf_EventExposure_Notify message to the NEF. 

